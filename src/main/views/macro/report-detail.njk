{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}

{% macro reportDetail(reportDetailIndex, reportDetailValue, errorFor, t) %}



    {{ govukInput({
      id: 'reportDetails[' + reportDetailIndex + '][expertName]',
      name: 'reportDetails[' + reportDetailIndex + '][expertName]',
      value: reportDetailValue.expertName,
      type: 'text',
      label: {
        text: t('PAGES.COURT_ORDERS.CLAIM_NUMBER')
      },
      attributes: {
        'data-name': 'reportDetails[%index%][claimNumber]',
        'data-id': 'reportDetails[%index%][claimNumber]'
      },
      errorMessage: {
        text: t(errorFor('reportDetails['+reportDetailIndex+'][expertName]'))
      } if errorFor('reportDetails['+reportDetailIndex+'][expertName]')
    }) }}

     {{ govukDateInput({
                id: 'reportDetails[' + reportDetailIndex + '][reportDate]',
                type: "number",
                inputmode: "numeric",
                name: 'reportDetails[' + reportDetailIndex + '][reportDate]',
                fieldset: {
                  legend: {
                    isPageHeading: false,
                    classes: 'govuk-fieldset__legend--m'
                  }
                },
                hint: {
                  text: hint
                },
                errorMessage: {
                  html: errorMessages
                },
                items: [
                  {
                    classes: "govuk-input--width-2 govuk-input--error" if errorFor('reportDetails['+reportDetailIndex+'][day]') else "govuk-input--width-2",
                    id: 'reportDetails[' + reportDetailIndex + '][day]',
                    label: t('COMMON.DAY'),
                    name: 'reportDetails[' + reportDetailIndex + '][day]',
                    value: reportDetailValue.day,
                    max: 31
                  },
                  {
                    classes:"govuk-input--width-2 govuk-input--error" if errorFor('reportDetails['+reportDetailIndex+'][month]') else "govuk-input--width-2",
                    id: 'reportDetails[' + reportDetailIndex + '][month]',
                    label: t('COMMON.MONTH'),
                    name: 'reportDetails[' + reportDetailIndex + '][month]',
                    value: reportDetailValue.month,
                    max: 12
                  },
                  {
                    classes: "govuk-input--width-4 govuk-input--error" if errorFor('reportDetails['+reportDetailIndex+'][year]') else "govuk-input--width-4",
                    id: 'reportDetails[' + reportDetailIndex + '][year]',
                    label: t('COMMON.YEAR'),
                    name: 'reportDetails[' + reportDetailIndex + '][year]',
                    value: reportDetailValue.year,
                    max: 9999
                  }
                ]
              }) }}

{% endmacro %}
